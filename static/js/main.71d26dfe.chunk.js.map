{"version":3,"sources":["components/Sidebar/Sidebar.module.css","redux/auth-reducer.js","components/Header/Header.module.css","components/Header/Header.jsx","redux/sidebar-reducer.js","components/Header/HeaderContainer.jsx","components/Sidebar/Friends/FriendsElement/FriendsElement.jsx","components/Sidebar/Friends/Friends.jsx","redux/sidebar-selectors.js","components/Sidebar/Friends/FriendsContainer.jsx","components/Sidebar/Sidebar.jsx","components/Sidebar/SidebarContainer.jsx","redux/app-reducer.js","redux/redux-store.js","components/Footer/Footer.jsx","hoc/withSuspense.js","components/Page404/Page404.jsx","App.js","reportWebVitals.js","index.js","components/common/Preloader/Preloader.jsx","components/Sidebar/Friends/Friends.module.css","components/Footer/Footer.module.css","components/Sidebar/Friends/FriendsElement/FriendsElement.module.css","components/common/Preloader/Preloader.module.css","components/Page404/Page404.module.css","assets/img/user.png","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/news-reducer.js","api/api.js","utils/objects-helpers.js","redux/users-reducer.js"],"names":["module","exports","CHANGE_STATE_BURG","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","inintialState","burgerActive","isFetching","isAuth","id","login","email","captchaUrl","changeStateBurg","newState","type","setAuthUserData","payload","authUser","dispatch","a","userAPI","auth","response","resultCode","data","emain","password","rememberMe","captcha","securityAPI","getCaptchaUrl","url","message","messages","length","stopSubmit","_error","logout","authReducer","state","action","Header","props","burgerClasses","s","burger","active","className","header","to","logo","info","loginWrap","profile","name","onClick","changeStateMenu","CHANGE_STATE_MENU","SET_FRIENDS","TOGGLE_IS_FETCING","friends","pageSize","thisState","sidebarReducer","HeaderContainer","this","React","Component","connect","sidebar","FriendsElement","photo","item","img","src","userPhoto","alt","Friends","friendsElements","map","friend","title","body","preloader","Preloader","white","getFriends","getPageSize","getIsFetching","UsersContainer","render","requestFriends","getUsers","items","Sidebar","asideClasses","aside","closeMenu","list","link","activeClassName","linkSet","FriendsContainer","SidebarContainer","SET_INITIALIZED_SUCCESS","SET_GLOBAL_ERROR","initialized","globalError","setGlobalError","error","appReducer","reducers","combineReducers","dialogsPage","dialogsReducer","profilePage","profileReducer","usersPage","usersReducer","app","form","formReducer","newsPage","newsReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Footer","footer","by","author","href","target","withSuspense","Suspense","fallback","Page404","page404","DialogsContainer","lazy","ProfileContainer","NewsContainer","Login","AppContainer","initializeApp","promise","Promise","all","catchGlobalError","getState","setTimeout","useEffect","catchAllUnhandledErrors","reason","toString","addEventListener","removeEventListener","exact","path","MainApp","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SET_LIKE_COUNT","SET_USER_LIKE","SAVE_PHOTO_SUCCESS","SET_IS_OPEN_DATA","posts","likeCount","isUserLike","status","isOpenData","addPost","newPostText","newPostImage","setLikeCount","newLikeCount","setUserLike","setStatus","getUserProfile","userId","getProfile","getStatus","profileAPI","updateStatus","savePhoto","file","photos","saveProfile","errorMessages","i","reg","match","toLowerCase","replace","reject","image","filter","p","ADD_MES","userImage","text","avatar","dialogs","addMes","newMesText","SET_NEWS","SET_TOTAL_RESULT","SET_CURRENT_PAGE","SET_COUNTRY","news","totalResults","page","country","countries","setTotalResults","toggleIsFetching","setCurrentPage","requestNews","newsAPI","getNews","articles","requestCountry","setCountry","intance","axios","withCredentials","baseURL","headers","currentPage","get","unfollow","delete","follow","post","put","photoFile","formData","FormData","append","updateObjectInArray","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FOLLOWING_PROGRESS","SET_PORTION_NUMBER","users","totalUsersCount","followingIsProgress","usersPortionNumber","acceptFollow","acceptUnfollow","toggleFollowingProgress","setUserPortionNumber","portionNumber","requestUsers","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.71d26dfe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Sidebar_aside__2PSuW\",\"active\":\"Sidebar_active__3cC-l\",\"list\":\"Sidebar_list__Pwqkz\",\"link\":\"Sidebar_link__1ZmNx\",\"linkSet\":\"Sidebar_linkSet__1hvPu\"};","import { stopSubmit } from \"redux-form\";\r\nimport { securityAPI, userAPI } from \"../api/api\";\r\n\r\nconst CHANGE_STATE_BURG = 'auth/CHANGE_STATE_BURG';\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet inintialState = {\r\n    burgerActive: false,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    captchaUrl: null,\r\n};\r\nconst authReducer = (state = inintialState, action) => {\r\n    switch(action.type){\r\n        case CHANGE_STATE_BURG:\r\n            return {\r\n                ...state,\r\n               burgerActive: action.newState,\r\n            }\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const changeStateBurg = (newState) => ({ type: CHANGE_STATE_BURG, newState, });\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, payload: {id, email, login,isAuth}, });\r\nexport const getCaptchaUrlSucces = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl } });\r\n\r\nexport const authUser = () => async (dispatch) => {\r\n   const response = await userAPI.auth();\r\n    if(response.resultCode === 0){\r\n        const {id, email, login} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    dispatch(getCaptchaUrlSucces(response.data.url));\r\n}\r\n\r\nexport const login = (emain, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await userAPI.login(emain, password, rememberMe, captcha);\r\n    if(response.resultCode === 0){\r\n        dispatch(authUser());\r\n    } else{\r\n        if(response.resultCode === 10) dispatch(getCaptchaUrl());\r\n        let message = response.messages.length > 0 ? response.messages[0] : 'Common error';\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await userAPI.logout();\r\n    if(response.resultCode === 0){\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3bCi2\",\"logo\":\"Header_logo__o07SF\",\"burger\":\"Header_burger__2jfV2\",\"active\":\"Header_active__30yIh\",\"info\":\"Header_info__M4xaw\",\"profile\":\"Header_profile__2Iwfw\",\"name\":\"Header_name__2pUbc\",\"loginWrap\":\"Header_loginWrap__1FFMa\"};","import { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n  \r\n  const showMenu = () => {\r\n    props.changeStateMenu(!props.burgerActive);\r\n    props.changeStateBurg(!props.burgerActive);\r\n  }\r\n\r\n  let burgerClasses = s.burger;\r\n  if (props.burgerActive) {\r\n    burgerClasses += ` ${s.active}`;\r\n  }\r\n    return(\r\n        <header className={s.header} >\r\n          <NavLink to='/' className={s.logo}>LFJ</NavLink>\r\n          <div className={s.info} >\r\n            <div className={s.loginWrap}>\r\n              { props.isAuth \r\n              ? <div className={s.profile}> \r\n                <div className={s.name}>{props.login}</div>\r\n                <button onClick={props.logout} className=\"btnLight\"><span>Log out</span></button>\r\n              </div>\r\n              : <NavLink to='/login' className='btnLight' >\r\n                  <span>login</span>\r\n              </NavLink>}\r\n            </div>\r\n            <div className={burgerClasses} onClick={showMenu} >\r\n              <span></span>\r\n            </div>\r\n          </div>\r\n      </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { userAPI } from '../api/api';\r\n\r\nconst CHANGE_STATE_MENU = 'sidebar/CHANGE-STATE-MENU';\r\nconst SET_FRIENDS = 'sidebar/SET-FRIENDS';\r\nconst TOGGLE_IS_FETCING = 'sidebar/TOGGLE-IS-FETCING';\r\n\r\nlet inintialState = {\r\n    active: false,\r\n    friends: [],\r\n    pageSize: 6,\r\n    isFetching: true,\r\n};\r\nexport const sidebarReducer = (state = inintialState, action) => {\r\n    switch(action.type){\r\n        case CHANGE_STATE_MENU:\r\n            return {\r\n                ...state,\r\n                active: action.payload\r\n            }\r\n        case SET_FRIENDS:\r\n            return {\r\n                ...state,\r\n                friends: [...action.payload],\r\n            }\r\n        case TOGGLE_IS_FETCING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload,\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const changeStateMenu = (thisState) => ({ type: CHANGE_STATE_MENU, payload: thisState, });\r\nexport const setFriends = (friends) => ({ type: SET_FRIENDS, payload: friends });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCING, payload: isFetching });\r\n\r\nexport const requestFriends = (pageSize) => async (dispatch) => {\r\n    const data = await userAPI.getUsers(1,pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setFriends(data.items));\r\n}\r\n\r\nexport default sidebarReducer;","import { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport React from 'react';\r\nimport {changeStateMenu} from '../../redux/sidebar-reducer';\r\nimport {changeStateBurg, logout} from '../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n  render(){\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\n  const mapStateToProps = (state) => {\r\n      return{\r\n        isAuth: state.auth.isAuth,\r\n        login:  state.auth.login,\r\n        burgerActive: state.sidebar.active,\r\n      }\r\n  }\r\n  \r\n\r\n\r\n  \r\n  export default connect(mapStateToProps, {\r\n    changeStateMenu,\r\n    changeStateBurg,\r\n    logout\r\n})(HeaderContainer);","import s from './FriendsElement.module.css';\r\nimport userPhoto from '../../../../assets/img/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst FriendsElement = ({id, photo, name}) => {\r\n    return(\r\n        <NavLink to={`/profile/${id}`} className={s.item}>\r\n            <div className={s.img}> <img src={photo != null ? photo : userPhoto} alt=\"avatar\"/></div>\r\n            <div className={s.name}>{name}</div>\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default FriendsElement;","import s from './Friends.module.css';\r\nimport FriendsElement from './FriendsElement/FriendsElement';\r\nimport React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\n\r\nconst Friends = (props) => {\r\n\r\n    let friendsElements = props.friends.map(friend => <FriendsElement key={friend.id} id={friend.id} photo={friend.photo} name={friend.name} />);\r\n    return(\r\n        <div className={s.friends}>\r\n            <div className={s.title}>Friends</div>\r\n            <div className={s.body}>\r\n                {props.isFetching ? <div className={s.preloader}><Preloader white={true} /></div> : friendsElements }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Friends;","export const getFriends = (state) => {\r\n    return state.sidebar.friends;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.sidebar.pageSize;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.sidebar.isFetching;\r\n}\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { requestFriends } from '../../../redux/sidebar-reducer';\r\nimport Friends from './Friends';\r\nimport { getPageSize,getFriends,getIsFetching } from '../../../redux/sidebar-selectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        this.props.requestFriends(this.props.pageSize);\r\n    }\r\n\r\n    render= () => {\r\n       return <Friends \r\n            friends={this.props.friends}\r\n            isFetching={this.props.isFetching}\r\n        />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        friends: getFriends(state),\r\n        pageSize: getPageSize(state),\r\n        isFetching: getIsFetching(state),\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,{\r\n    requestFriends\r\n    })(UsersContainer);\r\n\r\n","import s from './Sidebar.module.css';\r\nimport {\r\n  NavLink\r\n} from \"react-router-dom\";\r\nimport FriendsContainer from './Friends/FriendsContainer';\r\nconst Sidebar = (props) => {\r\n    let asideClasses = s.aside;\r\n    if (props.active) {\r\n      asideClasses += ` ${s.active}`;\r\n    }\r\n\r\n    const closeMenu = () => {\r\n      props.changeStateMenu(false);\r\n      props.changeStateBurg(false);\r\n    }\r\n    return(\r\n        <aside className={asideClasses}>\r\n          <ul className={s.list}>\r\n            <li><NavLink to=\"/profile\" onClick={closeMenu} className={s.link} activeClassName={s.active}><span>Profile</span></NavLink></li>\r\n            <li><NavLink to=\"/messages\" onClick={closeMenu} className={s.link}  activeClassName={s.active}><span>Messages</span></NavLink></li>\r\n            <li><NavLink to=\"/news\" onClick={closeMenu} className={s.link}  activeClassName={s.active}><span>News</span></NavLink></li>\r\n            <li><NavLink to=\"/users\" onClick={closeMenu} className={s.link}  activeClassName={s.active}><span>Users</span></NavLink></li>\r\n            <li><NavLink to=\"/music\" onClick={closeMenu} className={s.link}  activeClassName={s.active}><span>Music</span></NavLink></li>\r\n            <li><NavLink to=\"/settings\" onClick={closeMenu} className={`${s.link} ${s.linkSet}`}  activeClassName={s.active}><span>Settings</span></NavLink></li>\r\n          </ul>\r\n          {props.isAuth && <FriendsContainer />}\r\n      </aside>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import Friends from './Friends/Friends';\r\nimport {changeStateMenu} from '../../redux/sidebar-reducer';\r\nimport {changeStateBurg} from '../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport Sidebar from './Sidebar';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return{\r\n      active: state.sidebar.active,\r\n      friends: state.sidebar.friends,\r\n      isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\n\r\nconst SidebarContainer = connect(mapStateToProps, {\r\n  changeStateMenu,\r\n  changeStateBurg,\r\n})(Sidebar);\r\n\r\nexport default SidebarContainer;","import { authUser } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED_SUCCESS = 'app/SET_INITIALIZED_SUCCESS';\r\nconst SET_GLOBAL_ERROR = 'app/SET_GLOBAL_ERROR';\r\n\r\nlet inintialState = {\r\n    initialized: false,\r\n    globalError: null,\r\n};\r\nconst appReducer = (state = inintialState, action) => {\r\n    switch(action.type){\r\n        case SET_INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        case SET_GLOBAL_ERROR:\r\n            return {\r\n                ...state,\r\n                globalError: action.payload,\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: SET_INITIALIZED_SUCCESS });\r\nexport const setGlobalError = (error) => ({ type: SET_GLOBAL_ERROR, payload: error });\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    const promise = dispatch(authUser());\r\n    const response = await Promise.all([promise]);\r\n    dispatch(initializedSuccess());\r\n}\r\n\r\nexport const catchGlobalError = (globalError) => (dispatch, getState) => {\r\n    if(!getState().app.globalError){\r\n        dispatch(setGlobalError(globalError));\r\n        setTimeout(() => {\r\n            dispatch(setGlobalError(null));\r\n        }, 3000);\r\n    }\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport appReducer from \"./app-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport newsReducer from './news-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    dialogsPage: dialogsReducer,\r\n    auth: authReducer,\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n    newsPage: newsReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\nexport default store;","import s from './Footer.module.css'\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Footer = (props) => {\r\n    return(\r\n        <footer className={s.footer}>\r\n            <NavLink to='/' className={s.logo}>LFJ</NavLink>\r\n            <div className={s.by} >Made by <a className={s.author} href=\"https://github.com/NikitosKokos\" target='_blank'>Nick</a></div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport Preloader from '../components/common/Preloader/Preloader'\r\n\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div className='preloader-container'><Preloader /></div>}>\r\n                    <Component {...props} />\r\n                </React.Suspense>\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport s from './Page404.module.css';\r\n\r\nconst Page404 = () => {\r\n    return (\r\n        <div className={s.page404}>\r\n            <div className={s.title}>\r\n                <span>404</span> not found\r\n            </div>\r\n            <Link className='btn' to=\"/\"><span>Go to home</span></Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Page404;\r\n","import './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport SidebarContainer from './components/Sidebar/SidebarContainer';\nimport {\n  HashRouter as Router,\n  Redirect,\n  Route,\n  Switch\n} from \"react-router-dom\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { initializeApp, catchGlobalError } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport {Provider} from 'react-redux';\nimport store from './redux/redux-store';\nimport Footer from './components/Footer/Footer';\nimport { withSuspense } from './hoc/withSuspense';\nimport Page404 from './components/Page404/Page404';\n\nconst DialogsContainer = withSuspense(React.lazy(() => import('./components/Dialogs/DialogsContainer')));\nconst ProfileContainer = withSuspense(React.lazy(() => import('./components/Profile/ProfileContainer')));\nconst NewsContainer = withSuspense(React.lazy(() => import('./components/News/NewsContainer')));\nconst UsersContainer = withSuspense(React.lazy(() => import('./components/Users/UsersContainer')));\nconst Login = withSuspense(React.lazy(() => import('./components/Login/Login')));\n\n\nconst App = (props) => {\n  \n  React.useEffect(() => {\n    props.initializeApp();\n\n    const catchAllUnhandledErrors = ({promise, reason}) => {\n      props.catchGlobalError(reason.toString());\n    }\n\n    window.addEventListener('unhandledrejection', catchAllUnhandledErrors);\n    return () => {\n      window.removeEventListener('unhandledrejection', catchAllUnhandledErrors);\n    }\n  }, []);\n\n  if(!props.initialized){\n    return <div className=\"center\"><Preloader /></div>\n  }\n\n  return (\n    <Router>\n      <div className=\"wrapper\">\n      <HeaderContainer/>\n        <SidebarContainer/>\n        <main className=\"main\">\n          <Switch>\n            <Route exact path=\"/\">\n              <Redirect to=\"/profile\" />\n            </Route>\n            <Route path=\"/profile/:userId?\">\n              <ProfileContainer />\n            </Route>\n            <Route path=\"/messages/:chatId?\">\n              <DialogsContainer />\n            </Route>\n            <Route path=\"/news/:page?\">\n            <NewsContainer />\n            </Route>\n            <Route path=\"/music\">\n            \n            </Route>\n            <Route path=\"/settings\">\n            \n            </Route>\n            <Route path=\"/users/:page?\">\n              <UsersContainer />\n            </Route>\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n            <Route path=\"*\">\n              <Page404 />\n            </Route>\n          </Switch>\n        </main>\n        <Footer />\n        { props.globalError && <div className='globalError'>{props.globalError}</div>}\n      </div>\n    </Router>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n  globalError: state.app.globalError\n})\n\nconst AppContainer = connect(mapStateToProps, {\n  initializeApp,\n  catchGlobalError\n})(App);\n\nconst MainApp = (props) => {\n  return (\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>)\n}\n\nexport default MainApp;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n    ReactDOM.render(\n        <MainApp />,\n        document.getElementById('root')\n      );\n// window.store = store;\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from 'react'\r\nimport s from './Preloader.module.css';\r\n\r\nconst Preloader = ({ white }) => {\r\n    return (\r\n        <div className={`${s.preloader} ${white ? s.white : ''}`}>\r\n            <div></div><div></div><div></div><div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends___q5N3\",\"title\":\"Friends_title__1b2vC\",\"body\":\"Friends_body__1tKyu\",\"preloader\":\"Friends_preloader__2bm5V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2S6ja\",\"logo\":\"Footer_logo__f65X0\",\"by\":\"Footer_by__1UwuX\",\"author\":\"Footer_author__1MRvu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"FriendsElement_item__3aavx\",\"name\":\"FriendsElement_name__1nR-Z\",\"img\":\"FriendsElement_img__1Yp64\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1w1UC\",\"white\":\"Preloader_white__3HFuI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page404\":\"Page404_page404__xONTi\",\"title\":\"Page404_title__ABNYE\"};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARAAAAEQCAYAAAB4CisVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNENkIyMkQwQjVBRDExRTg5MTYyRTI5RjI2MTUyN0IzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNENkIyMkQxQjVBRDExRTg5MTYyRTI5RjI2MTUyN0IzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0Q2QjIyQ0VCNUFEMTFFODkxNjJFMjlGMjYxNTI3QjMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0Q2QjIyQ0ZCNUFEMTFFODkxNjJFMjlGMjYxNTI3QjMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7xUat8AAAbw0lEQVR42uyd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\"","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI, userAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'profilePage/ADD-POST';\r\nconst SET_USER_PROFILE = 'profilePage/SET-USER-PROFILE';\r\nconst SET_STATUS = 'profilePage/SET-STATUS';\r\nconst DELETE_POST = 'profilePage/DELETE_POST';\r\nconst SET_LIKE_COUNT ='profilePage/SET_LIKE_COUNT';\r\nconst SET_USER_LIKE ='profilePage/SET_USER_LIKE';\r\nconst SAVE_PHOTO_SUCCESS = 'profilePage/SAVE_PHOTO_SUCCESS';\r\nconst SET_IS_OPEN_DATA = 'profilePage/SET_IS_OPEN_DATA';\r\n\r\nlet inintialState = {\r\n    posts: [\r\n     {id: 1, message:'hello', likeCount: 44, isUserLike: false },\r\n     {id: 2, message:'It\\'s my new blog', likeCount: 23, isUserLike: false },\r\n     {id: 3, message:'Yo', likeCount: 31, isUserLike: false },\r\n     {id: 4, message:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore cum reprehenderit fuga at corporis a modi adipisci doloribus ullam accusamus laboriosam quasi et laborum dolore, quisquam saepe consequatur sed odio!', likeCount: 1, isUserLike: false },\r\n   ], \r\n   profile: null,\r\n   status: '',\r\n   isOpenData: false,\r\n };\r\nconst profileReducer = (state = inintialState, action) => {\r\n    \r\n    switch(action.type){\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts,{\r\n                    id: state.posts.length + 1,\r\n                    message: action.newPostText,\r\n                    image: action.newPostImage ? action.newPostImage: null,\r\n                    likeCount: 0,\r\n                }]\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.payload)\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n               status: action.status,\r\n            }\r\n        case SET_LIKE_COUNT:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(p => {\r\n                    if(p.id === action.id){\r\n                        p.likeCount = action.newLikeCount\r\n                    }\r\n                    return p;\r\n                }),\r\n            }\r\n        case SET_USER_LIKE:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(p => {\r\n                    if(p.id === action.id){\r\n                        p.isUserLike = action.isUserLike\r\n                    }\r\n                    return p;\r\n                }),\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n                return {\r\n                    ...state,\r\n                    profile: { ...state.profile, photos: action.photos},\r\n                }\r\n        case SET_IS_OPEN_DATA:\r\n                return {\r\n                    ...state,\r\n                    isOpenData: action.isOpenData,\r\n                }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostText, newPostImage) => ({ type: ADD_POST, newPostText, newPostImage });\r\nexport const deletePost = (id) => ({ type: DELETE_POST,payload: id });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setLikeCount = (id, newLikeCount) => ({ type: SET_LIKE_COUNT, id, newLikeCount });\r\nexport const setUserLike = (id, isUserLike) => ({ type: SET_USER_LIKE, id, isUserLike });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\nexport const setIsOpenData = (isOpenData) => ({ type: SET_IS_OPEN_DATA, isOpenData });\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await userAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n    // dispatch(setIsOpenData(false));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(savePhotoSuccess(response.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.id;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(getUserProfile(userId));\r\n        // dispatch(setIsOpenData(true));\r\n    }else{\r\n        const messages = response.data.messages;\r\n        const errorMessages = messages.map((message, i) => {\r\n            const reg = /\\((.+?)\\)/;\r\n            const error = message.match(reg)[1].toLowerCase().replace('contacts->', '');\r\n            return {[error]: `${message.replace(reg, '')} ${error}`};\r\n        })\r\n        dispatch(stopSubmit('editProfile', {\"contacts\": errorMessages[0]}));\r\n        return Promise.reject(errorMessages[0]);\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;","const ADD_MES = 'dialogsPage/ADD-MES';\r\n\r\nlet inintialState = {\r\n    userImage: null,\r\n    messages: [\r\n        {id: 1, text: 'Hi Den!1', avatar: 'https://buki.com.ua/data/files/news/15542215853893.jpg'},\r\n        {id: 2, text: 'Hello, how do you do?', avatar: 'https://www.flaticon.com/svg/static/icons/svg/1503/1503835.svg'},\r\n        {id: 3, text: 'Good',  avatar: 'https://buki.com.ua/data/files/news/15542215853893.jpg'},\r\n        {id: 4, text: 'Ok :)', avatar: 'https://www.flaticon.com/svg/static/icons/svg/1503/1503835.svg'},\r\n    ],   \r\n    dialogs: [\r\n        {id: 1, name: 'Oleg'},\r\n        {id: 2, name: 'Roma'},\r\n        {id: 3, name: 'Den'},\r\n        {id: 4, name: 'Boris'},\r\n        {id: 5, name: 'Vika'},\r\n        {id: 6, name: 'Olga'},\r\n    ],\r\n};\r\nconst dialogsReducer = (state = inintialState, action) => {\r\n    switch(action.type){\r\n        case ADD_MES:\r\n            return {\r\n                ...state,\r\n                messages: [ ...state.messages, {\r\n                id: 5, \r\n                text: action.newMesText, \r\n                avatar: 'https://buki.com.ua/data/files/news/15542215853893.jpg'\r\n            }]\r\n            }\r\n        default: \r\n            return state;\r\n}\r\n}\r\n\r\nexport const addMes = (newMesText) => ({ type: ADD_MES, newMesText });\r\n\r\n\r\n\r\nexport default dialogsReducer;","import { newsAPI } from \"../api/api\";\r\n\r\nconst SET_NEWS = 'newsPage/SET_NEWS';\r\nconst SET_TOTAL_RESULT = 'newsPage/SET_TOTAL_RESULT';\r\nconst TOGGLE_IS_FETCING = 'newsPage/TOGGLE_IS_FETCING';\r\nconst SET_CURRENT_PAGE = 'newsPage/SET_CURRENT_PAGE';\r\nconst SET_COUNTRY = 'newsPage/SET_COUNTRY';\r\n\r\n\r\nlet inintialState = {\r\n    news: [], \r\n    pageSize: 10,\r\n    totalResults: 0,\r\n    page: 1,\r\n    isFetching: false,\r\n    country: 'us',\r\n    countries: [\r\n        ['us', 'USA'],\r\n        ['ua', 'Ukraine'],\r\n        ['ru', 'Russia'],\r\n    ],\r\n };\r\nconst newsReducer = (state = inintialState, action) => {\r\n    \r\n    switch(action.type){\r\n        case SET_NEWS:\r\n            return {\r\n                ...state,\r\n                news: [...action.payload],\r\n            }\r\n        case SET_TOTAL_RESULT:\r\n            return {\r\n                ...state,\r\n                totalResults: action.payload,\r\n            }\r\n        case TOGGLE_IS_FETCING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload,\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                page: action.payload,\r\n            }\r\n        case SET_COUNTRY:\r\n            return {\r\n                ...state,\r\n                country: action.payload,\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setNews = (news) => ({ type: SET_NEWS, payload: news });\r\nexport const setTotalResults = (totalResults) => ({ type: SET_TOTAL_RESULT, payload: totalResults });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCING, payload: isFetching });\r\nexport const setCurrentPage = (page) => ({ type: SET_CURRENT_PAGE, payload: page });\r\nexport const setCountry = (country) => ({ type: SET_COUNTRY, payload: country });\r\n\r\n\r\nexport const requestNews = (country,page,pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    const {status, totalResults, articles} = await newsAPI.getNews(country,page,pageSize);\r\n    if(status === 'ok'){\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setTotalResults(totalResults));\r\n        dispatch(setNews(articles));    \r\n    }\r\n}\r\n\r\nexport const requestCountry = (country,page,pageSize) => (dispatch) => {\r\n    dispatch(requestNews(country,page,pageSize));\r\n    dispatch(setCountry(country));\r\n}\r\n\r\nexport default newsReducer;","import * as axios from 'axios';\r\n\r\nconst intance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'ca6f2500-65a4-4f00-82da-06d5e3583521'},\r\n})\r\n\r\nconst news = axios.create({\r\n    baseURL: 'https://newsapi.org/v2/',\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers: (currentPage,pageSize) => {\r\n    return intance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    unfollow: (id) => {\r\n        return intance.delete(`follow/${id}`).then(response => response.data);\r\n    },\r\n    follow: (id) => {\r\n        return intance.post(`follow/${id}`).then(response => response.data);\r\n    },\r\n    auth: () => {\r\n        return intance.get('auth/me').then(response => response.data);\r\n    },\r\n    login: (email,password,rememberMe = false, captcha = null) => {\r\n        return intance.post('auth/login', {email,password,rememberMe,captcha}).then(response => response.data);\r\n    },\r\n    logout: () => {\r\n        return intance.delete('auth/login').then(response => response.data);\r\n    },\r\n    getProfile: (userId) => {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile: (userId) => {\r\n        return intance.get(`profile/${userId}`)\r\n    },\r\n    getStatus: (userId) => {\r\n        return intance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus: (status) => {\r\n        return intance.put('profile/status', {status: status})\r\n    },\r\n    savePhoto: (photoFile) => {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return intance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile: (profile) => {\r\n        return intance.put('profile', profile)\r\n    },\r\n\r\n}\r\n\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl: () => {\r\n        return intance.get('security/get-captcha-url')\r\n    }\r\n}\r\n\r\nexport const newsAPI = {\r\n    getNews: (country,page,pageSize) => {\r\n        return news.get(`top-headlines?country=${country}&page=${page}&pageSize=${pageSize}&apiKey=70b45b6b25ec42cfb8bf8d6e7c6dc87d`).then(response => response.data)\r\n    }\r\n}","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(item => {\r\n        if(item[objPropName] === itemId){\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item;\r\n    })\r\n}","import { userAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/objects-helpers';\r\n\r\nconst FOLLOW = 'usersPage/FOLLOW';\r\nconst UNFOLLOW = 'usersPage/UNFOLLOW';\r\nconst SET_USERS = 'usersPage/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'usersPage/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'usersPage/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCING = 'usersPage/TOGGLE-IS-FETCING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'usersPage/TOGGLE-IS-FOLLOWING-PROGRESS';\r\nconst SET_PORTION_NUMBER = 'SET_PORTION_NUMBER';\r\n\r\nlet inintialState = {\r\n    users: [], \r\n    pageSize: 25,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingIsProgress: [],\r\n    usersPortionNumber: 1,\r\n };\r\nconst usersReducer = (state = inintialState, action) => {\r\n    \r\n    switch(action.type){\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users],\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n               currentPage: action.currentPage,\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount,\r\n            }\r\n        case TOGGLE_IS_FETCING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingIsProgress: action.isFetching ? [...state.followingIsProgress, action.userId] \r\n                : state.followingIsProgress.filter(id => id !== action.userId),\r\n            }\r\n        case SET_PORTION_NUMBER:\r\n            return {\r\n                ...state,\r\n                usersPortionNumber: action.payload,\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const acceptFollow = (userId) => ({ type: FOLLOW, userId });\r\nexport const acceptUnfollow = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching,userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\nexport const setUserPortionNumber = (portionNumber) => ({ type: SET_PORTION_NUMBER, payload: portionNumber });\r\n\r\n\r\nexport const requestUsers = (page,pageSize) => async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        const data = await userAPI.getUsers(page,pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true,userId));\r\n    const response = await apiMethod(userId);\r\n    if(response.resultCode === 0){\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false,userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), acceptFollow);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), acceptUnfollow);\r\n}\r\n\r\n\r\nexport default usersReducer;"],"sourceRoot":""}