{"version":3,"sources":["utils/validators/validators.js","components/common/FormControls/FormControls.jsx","components/common/FormControls/FormControls.module.css","hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogsItem/DialogsItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/SendMessage/SendMessage.module.css","components/Dialogs/DialogsItem/DialogsItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/SendMessage/SendMessage.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["required","value","maxLength","max","length","undefined","FormControl","input","meta","touched","error","children","warning","errorClass","isPass","setIsPass","isPassword","type","hasError","className","s","formControl","field","password","checkebox","onClick","eye","active","x","y","viewBox","fill","d","errors","Textarea","props","restProps","Input","React","useState","inputType","module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","connect","DialogsItem","path","id","dialog","activeClassName","name","Message","message","img","src","avatar","alt","body","text","maxLength300","reduxForm","form","onSubmit","handleSubmit","sendBlock","textarea","Field","placeholder","component","validate","btn","Dialogs","dialogsPage","dialogsElements","dialogs","map","messagesElements","messages","m","dialogsItems","values","addMes","compose"],"mappings":"4FAAA,oEAAO,IAAMA,EAAW,SAAAC,GACpB,IAAGA,EAEH,MAAO,qBAGEC,EAAY,SAAAC,GAAG,OAAI,SAAAF,GAAK,OAAIA,GAASA,EAAMG,OAASD,EAAxB,kBAAyCA,EAAzC,4BAAoEE,K,oLCFvGC,EAAc,SAAC,GAAoH,EAAnHC,MAAoH,IAAD,IAA5GC,KAAQC,EAAoG,EAApGA,QAASC,EAA2F,EAA3FA,MAAkBC,GAAyE,EAApFC,QAAoF,EAAzED,UAAUE,EAA+D,EAA/DA,WAAYC,EAAmD,EAAnDA,OAAQC,EAA2C,EAA3CA,UAAWC,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,KAC3GC,GAD+H,iGACnHT,GAAWC,GAC7B,OACI,sBAAKS,UAAWC,IAAEC,YAAlB,UACI,sBAAKF,UAAS,UAAKC,IAAEE,MAAP,YAAgBN,EAAaI,IAAEG,SAAW,IAAxD,UACKZ,EACS,aAATM,GAAuB,sBAAME,UAAWC,IAAEI,YAC1CR,GAAc,qBAAKS,QAAS,kBAAMV,GAAWD,IAASK,UAAS,UAAKC,IAAEM,IAAP,YAAcZ,EAAS,GAAKM,IAAEO,QAA/E,SACf,sBAAKC,EAAE,MAAMC,EAAE,MACXC,QAAQ,oBADZ,UAEA,4BACI,sBAAMC,KAAK,UAAUC,EAAE,4gBAM3B,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,sBAEA,8BAKJ,qBAAKb,UAAWC,IAAEa,OAAlB,SACKf,GAAY,mBAAGC,UAAS,UAAKC,IAAEV,MAAP,YAAgBG,GAA0B,IAAtD,SAA6DH,UAO7EwB,EAAW,SAACC,GAAW,IACzB5B,EAAuB4B,EAAvB5B,MAAU6B,EADc,YACDD,EADC,WAE/B,OAAO,cAAC7B,EAAD,2BAAiB6B,GAAjB,aAAwB,oDAAc5B,GAAW6B,QAG/CC,EAAQ,SAACF,GAAW,IACtB5B,EAAuC4B,EAAvC5B,MAAOgB,EAAgCY,EAAhCZ,SAAUN,EAAsBkB,EAAtBlB,KAASmB,EADL,YACkBD,EADlB,+BAEAG,IAAMC,SAAShB,GAFf,mBAErBT,EAFqB,KAEbC,EAFa,KAItByB,EAAY1B,EAAS,WAAsB,aAATG,EAAsB,OAASA,EACvE,OAAO,cAACX,EAAD,yBAAaU,WAAYO,EAAUN,KAAMuB,EAAW1B,OAAQA,EAAQC,UAAWA,GAAeoB,GAA9F,aAAqG,+CAAOlB,KAAMuB,GAAejC,GAAW6B,S,oBCvEvJK,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,SAAW,+BAA+B,MAAQ,4BAA4B,UAAY,gCAAgC,IAAM,0BAA0B,OAAS,+B,oJCGnQC,EAA6B,SAACC,GAAD,MAC/B,CACIC,OAAQD,EAAME,KAAKD,SAIdE,EAAmB,SAACC,GAAe,IACtCC,EADqC,uKAGnC,OAAIC,KAAKf,MAAMU,OACR,cAACG,EAAD,eAAeE,KAAKf,QADG,cAAC,IAAD,CAAUgB,GAAI,eAHT,GACXb,IAAMU,WAOtC,OADqCI,YAAQT,EAARS,CAAoCH,K,oBChB7ER,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,KAAO,sBAAsB,SAAW,0BAA0B,KAAO,wB,oBCA5MD,EAAOC,QAAU,CAAC,OAAS,4BAA4B,OAAS,8B,oBCAhED,EAAOC,QAAU,CAAC,QAAU,yBAAyB,KAAO,sBAAsB,KAAO,sBAAsB,IAAM,uB,oBCArHD,EAAOC,QAAU,CAAC,UAAY,+BAA+B,SAAW,8BAA8B,IAAM,2B,+FCS7FW,EALK,SAAClB,GACjB,IAAMmB,EAAI,oBAAgBnB,EAAMoB,IAChC,OAAO,cAAC,IAAD,CAASJ,GAAIG,EAAMnC,UAAWC,IAAEoC,OAAQC,gBAAiBrC,IAAEO,OAA3D,SAAoEQ,EAAMuB,Q,kBCItEC,EATC,SAACxB,GACb,OAAO,sBAAKhB,UAAWC,IAAEwC,QAAlB,UACK,qBAAKzC,UAAWC,IAAEyC,IAAlB,SAAwB,qBAAKC,IAAK3B,EAAM4B,OAAQC,IAAI,aACpD,qBAAK7C,UAAWC,IAAE6C,KAAlB,SACI,qBAAK9C,UAAWC,IAAE8C,KAAlB,SAA0B/B,EAAM+B,a,6DCA9CC,EAAejE,YAAU,KAqBhBkE,cAAU,CAACC,KAAM,wBAAjBD,EAnBK,SAACjC,GACjB,OACQ,uBAAMmC,SAAUnC,EAAMoC,aAAcpD,UAAWC,IAAEoD,UAAjD,UACI,qBAAKrD,UAAWC,IAAEqD,SAAlB,SACI,cAACC,EAAA,EAAD,CACIC,YAAY,qBACZ1D,KAAM,OACN2D,UAAW1C,IACXwB,KAAK,UACLmB,SAAU,CAAC7E,IAAUmE,GACrBtD,WAAW,sBAGnB,wBAAQM,UAAWC,IAAE0D,IAArB,SAA0B,gD,OCe3BC,G,MA3BC,SAAC5C,GACb,IAAIS,EAAQT,EAAM6C,YACdC,EAAkBrC,EAAMsC,QAAQC,KAAI,SAAAnD,GAAC,OAAI,cAAC,EAAD,CAAa0B,KAAM1B,EAAE0B,KAAiBH,GAAIvB,EAAEuB,IAAZvB,EAAEuB,OAC3E6B,EAAmBxC,EAAMyC,SAASF,KAAI,SAAAG,GAAC,OAAI,cAAC,EAAD,CAASpB,KAAMoB,EAAEpB,KAAiBH,OAAQuB,EAAEvB,QAAhBuB,EAAE/B,OAI7E,OAAIpB,EAAMU,OAEN,mCACI,sBAAK1B,UAAWC,IAAE8D,QAAlB,UACI,qBAAK/D,UAAWC,IAAEmE,aAAlB,SACKN,IAEL,sBAAK9D,UAAWC,IAAEoC,OAAlB,UACI,qBAAKrC,UAAWC,IAAEiE,SAAlB,SACI,qBAAKlE,UAAWC,IAAE6C,KAAlB,SACKmB,MAGT,cAAC,EAAD,CAAad,SAhBN,SAACkB,GACpBrD,EAAMsD,OAAOD,EAAO5B,oBAEC,cAAC,IAAD,CAAUT,GAAI,a,iCCC5BuC,sBAAQtC,aARC,SAACR,GACrB,MAAM,CACFoC,YAAapC,EAAMoC,YACnBnC,OAAQD,EAAME,QAK0B,CAC5C2C,aAEJ1C,IAHe2C,CAIbX","file":"static/js/5.fb443a62.chunk.js","sourcesContent":["export const required = value => {\r\n    if(value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLength = max => value => value && value.length > max ? `Must be ${max} characters or less` : undefined\r\n\r\n\r\nexport const minLength = min => value => value && value.length < min ? `Must be ${min} characters or more` : undefined\r\n\r\n\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport s from './FormControls.module.css';\r\n\r\nconst FormControl = ({input, meta: { touched, error, warning }, children, errorClass, isPass, setIsPass, isPassword, type, ...props}) => {\r\n    const hasError =  touched && error;\r\n    return (\r\n        <div className={s.formControl}>\r\n            <div className={`${s.field} ${isPassword ? s.password : ''}`}>\r\n                {children}\r\n                {type === 'checkbox' && <span className={s.checkebox}></span>}\r\n                {isPassword && <div onClick={() => setIsPass(!isPass)} className={`${s.eye} ${isPass ? '' : s.active}`}>\r\n                <svg x=\"0px\" y=\"0px\"\r\n                    viewBox=\"0 0 488.85 488.85\">\r\n                <g>\r\n                    <path fill='#393e46' d=\"M244.425,98.725c-93.4,0-178.1,51.1-240.6,134.1c-5.1,6.8-5.1,16.3,0,23.1c62.5,83.1,147.2,134.2,240.6,134.2\r\n                        s178.1-51.1,240.6-134.1c5.1-6.8,5.1-16.3,0-23.1C422.525,149.825,337.825,98.725,244.425,98.725z M251.125,347.025\r\n                        c-62,3.9-113.2-47.2-109.3-109.3c3.2-51.2,44.7-92.7,95.9-95.9c62-3.9,113.2,47.2,109.3,109.3\r\n                        C343.725,302.225,302.225,343.725,251.125,347.025z M248.025,299.625c-33.4,2.1-61-25.4-58.8-58.8c1.7-27.6,24.1-49.9,51.7-51.7\r\n                        c33.4-2.1,61,25.4,58.8,58.8C297.925,275.625,275.525,297.925,248.025,299.625z\"/>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                <g>\r\n                </g>\r\n                </svg>\r\n                </div>}\r\n            </div>\r\n            <div className={s.errors}>\r\n               { hasError && <p className={`${s.error} ${errorClass ? errorClass : ''}`}>{error}</p>} \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, password, type, ...restProps} = props;\r\n    const [isPass, setIsPass] = React.useState(password);\r\n    // Type definition\r\n    const inputType = isPass ? 'password' : type === 'password' ? 'text' : type;\r\n    return <FormControl isPassword={password} type={inputType} isPass={isPass} setIsPass={setIsPass} {...props}><input type={inputType} {...input} {...restProps} /></FormControl>\r\n}\r\n\r\n\r\nexport const createField = (placeholder, name, validators, component, type, text) => (\r\n<div className={s.input}><Field \r\n    placeholder={placeholder} \r\n    name={name}\r\n    validators={validators}\r\n    component={component}\r\n    type={type ? type : \"text\"}\r\n/></div>)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2g-FB\",\"field\":\"FormControls_field__Ng8yj\",\"password\":\"FormControls_password__3DyVu\",\"error\":\"FormControls_error__2zH4w\",\"checkebox\":\"FormControls_checkebox__2MJo8\",\"eye\":\"FormControls_eye__GoE4S\",\"active\":\"FormControls_active__1pP40\"};","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst mapStateToPropsForRedirect = (state) => (\r\n    {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n)\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render(){\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />;\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__M36JI\",\"dialogsItems\":\"Dialogs_dialogsItems__3PAzJ\",\"dialog\":\"Dialogs_dialog__1cG5E\",\"hide\":\"Dialogs_hide__1G1o-\",\"messages\":\"Dialogs_messages__mSEou\",\"body\":\"Dialogs_body__2ACIY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogsItem_dialog__--dsK\",\"active\":\"DialogsItem_active__2b7hN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1-Rpz\",\"body\":\"Message_body__31vZH\",\"text\":\"Message_text__uV7FX\",\"img\":\"Message_img__3cuvt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sendBlock\":\"SendMessage_sendBlock__1fnde\",\"textarea\":\"SendMessage_textarea__eNFBp\",\"btn\":\"SendMessage_btn__2Qway\"};","import s from './DialogsItem.module.css';\r\nimport {\r\n    NavLink\r\n  } from \"react-router-dom\";\r\n\r\nconst DialogsItem = (props) => {\r\n    const path = `/messages/${props.id}`;\r\n    return <NavLink to={path} className={s.dialog} activeClassName={s.active}>{props.name}</NavLink>\r\n}\r\n\r\nexport default DialogsItem;","import s from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n    return <div className={s.message}>\r\n                <div className={s.img} ><img src={props.avatar} alt=\"avatar\"/></div>\r\n                <div className={s.body} >\r\n                    <div className={s.text} >{props.text}</div>\r\n                </div>\r\n            </div>\r\n}\r\n\r\nexport default Message;","import s from './SendMessage.module.css';\r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLength} from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormControls/FormControls';\r\n\r\nconst maxLength300 = maxLength(300);\r\n\r\nconst SendMessage = (props) => {\r\n    return(\r\n            <form onSubmit={props.handleSubmit} className={s.sendBlock}>\r\n                <div className={s.textarea}>\r\n                    <Field \r\n                        placeholder='Enter your message' \r\n                        type= 'text'\r\n                        component={Textarea} \r\n                        name='message'\r\n                        validate={[required, maxLength300]}\r\n                        errorClass='error-chat-form'\r\n                    />\r\n                </div>\r\n                <button className={s.btn}><span>Send</span></button>\r\n            </form>\r\n    );\r\n}\r\n\r\n\r\nexport default reduxForm({form: 'dialogAddMessageForm'})(SendMessage);","import s from './Dialogs.module.css';\r\nimport DialogsItem from './DialogsItem/DialogsItem';\r\nimport Message from './Message/Message';\r\nimport SendMessage from './SendMessage/SendMessage';\r\nimport React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport userPhoto from '../../assets/img/user.png';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let state = props.dialogsPage;\r\n    let dialogsElements = state.dialogs.map(d => <DialogsItem name={d.name} key={d.id} id={d.id} />);\r\n    let messagesElements = state.messages.map(m => <Message text={m.text} key={m.id} avatar={m.avatar} />);\r\n    const sendNewMessage = (values) => {\r\n        props.addMes(values.message);\r\n    }\r\n    if(!props.isAuth) return <Redirect to={'/login'} />;\r\n    return(\r\n        <>\r\n            <div className={s.dialogs}>\r\n                <div className={s.dialogsItems}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={s.dialog}>\r\n                    <div className={s.messages}>\r\n                        <div className={s.body}>\r\n                            {messagesElements}\r\n                        </div>\r\n                    </div>\r\n                    <SendMessage onSubmit={sendNewMessage} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import Dialogs from './Dialogs';\r\nimport { addMes,setUserImage } from '../../redux/dialogs-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        dialogsPage: state.dialogsPage,\r\n        isAuth: state.auth,\r\n    }\r\n}\r\n\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    addMes,\r\n}),\r\nwithAuthRedirect\r\n)(Dialogs);\r\n"],"sourceRoot":""}