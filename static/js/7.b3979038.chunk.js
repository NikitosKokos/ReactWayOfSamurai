(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[7],{236:function(e,t,s){"use strict";function r(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}s.d(t,"a",(function(){return r}))},239:function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var r=s(3),n=s(38),o=s(39),a=s(41),i=s(40),u=s(0),c=s(1),l=s.n(c),g=s(19),p=s(8),b=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(a.a)(c,t);var s=Object(i.a)(c);function c(){return Object(n.a)(this,c),s.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(u.jsx)(e,Object(r.a)({},this.props)):Object(u.jsx)(p.a,{to:"/login"})}}]),c}(l.a.Component);return Object(g.b)(b)(t)}},258:function(e,t,s){e.exports={users:"Users_users__pi2dK",title:"Users_title__1oc51",user:"Users_user__2GgVm",body:"Users_body__UFmw-",main:"Users_main__1ahMK",text:"Users_text__ZE5J3",avatar:"Users_avatar__2J-YJ",name:"Users_name__37iyV",status:"Users_status__tbtzV",btn:"Users_btn__LMnfg"}},314:function(e,t,s){e.exports={pagination:"Paginator_pagination__358Lc",page:"Paginator_page__1Odef",selectedPage:"Paginator_selectedPage__1eaKy"}},321:function(e,t,s){"use strict";s.r(t);var r=s(38),n=s(39),o=s(41),a=s(40),i=s(0),u=s(1),c=s.n(u),l=s(19),g=s(90),p=s(236),b=s(258),f=s.n(b),j=s(29),d=s(314),h=s.n(d),m=s(10),P=function(e){for(var t=e.currentPage,s=e.pageSize,r=e.totalItemsCount,n=e.portionSize,o=void 0===n?10:n,a=e.onPageChanged,u=e.portionNumber,c=e.setPortionNumber,l=Math.ceil(r/s),g=[],p=1;p<=l;p++)g.push(p);var b=Math.ceil(l/o),f=(u-1)*o+1,j=u*o;return Object(i.jsxs)("div",{className:h.a.pagination,children:[u>1&&Object(i.jsx)("button",{className:h.a.page,onClick:function(){c(u-1)},children:"PREV"}),g.filter((function(e){return e>=f&&e<=j})).map((function(e){return Object(i.jsx)(m.c,{to:"/users/".concat(e),onClick:function(){a(e)},className:"".concat(h.a.page," ").concat(t===e&&h.a.selectedPage),children:e},e)})),b>u&&Object(i.jsx)("button",{className:h.a.page,onClick:function(){c(u+1)},children:"NEXT"})]})},O=s(66),_=function(e){var t=e.user,s=t.id,r=t.photos,n=t.name,o=t.status,a=t.followed,u=e.followingIsProgress,c=e.unfollow,l=e.follow;return Object(i.jsx)("div",{className:f.a.user,children:Object(i.jsxs)("div",{className:f.a.body,children:[Object(i.jsxs)("div",{className:f.a.main,children:[Object(i.jsx)(m.c,{to:"/profile/".concat(s),className:f.a.avatar,children:Object(i.jsx)("img",{src:null!=r.small?r.small:O.a})}),Object(i.jsxs)("div",{className:f.a.text,children:[Object(i.jsx)("div",{className:f.a.name,children:n}),Object(i.jsx)("div",{className:f.a.status,children:o})]})]}),a?Object(i.jsx)("button",{disabled:u.some((function(e){return e===s})),className:f.a.btn,onClick:function(){c(s)},children:Object(i.jsx)("span",{children:"unfollow"})}):Object(i.jsx)("button",{disabled:u.some((function(e){return e===s})),className:f.a.btn,onClick:function(){l(s)},children:Object(i.jsx)("span",{children:"follow"})})]})})},N=function(e){var t=e.currentPage,s=e.pageSize,r=e.totalUsersCount,n=e.onPageChanged,o=e.users,a=e.isFetching,u=e.usersPortionNumber,c=e.setUserPortionNumber,l=Object(p.a)(e,["currentPage","pageSize","totalUsersCount","onPageChanged","users","isFetching","usersPortionNumber","setUserPortionNumber"]);return Object(i.jsxs)("div",{className:f.a.users,children:[Object(i.jsx)("h2",{className:f.a.title,children:"Users"}),Object(i.jsx)(P,{currentPage:t,pageSize:s,onPageChanged:n,totalItemsCount:r,portionNumber:u,setPortionNumber:c}),a?Object(i.jsx)(j.a,{}):Object(i.jsx)("div",{className:f.a.usersCont,children:o.map((function(e){return Object(i.jsx)(_,{user:e,followingIsProgress:l.followingIsProgress,follow:l.follow,unfollow:l.unfollow},e.id)}))})]})},x=s(26),v=s(239),w=function(e){return e.usersPage.users},U=function(e){return e.usersPage.pageSize},C=function(e){return e.usersPage.totalUsersCount},y=function(e){return e.usersPage.currentPage},S=function(e){return e.usersPage.isFetching},z=function(e){return e.usersPage.followingIsProgress},k=function(e){return e.usersPage.usersPortionNumber},I=s(8),F=function(e){Object(o.a)(s,e);var t=Object(a.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e.render=function(){return Object(i.jsx)(N,{totalUsersCount:e.props.totalUsersCount,pageSize:e.props.pageSize,currentPage:e.props.currentPage,onPageChanged:e.onPageChanged,users:e.props.users,unfollow:e.props.unfollow,follow:e.props.follow,followingIsProgress:e.props.followingIsProgress,isFetching:e.props.isFetching,usersPortionNumber:e.props.usersPortionNumber,setUserPortionNumber:e.props.setUserPortionNumber})},e}return Object(n.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.page;void 0===e&&(e=this.props.currentPage),this.props.requestUsers(Number(e),this.props.pageSize)}}]),s}(c.a.Component);t.default=Object(x.d)(Object(l.b)((function(e){return{users:w(e),pageSize:U(e),totalUsersCount:C(e),currentPage:y(e),isFetching:S(e),followingIsProgress:z(e),usersPortionNumber:k(e)}}),{follow:g.b,unfollow:g.g,setCurrentPage:g.d,toggleFollowingProgress:g.f,requestUsers:g.c,setUserPortionNumber:g.e}),I.g,v.a)(F)}}]);
//# sourceMappingURL=7.b3979038.chunk.js.map