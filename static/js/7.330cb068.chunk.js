(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[7],{231:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n.d(t,"a",(function(){return r}))},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),s=n(37),a=n(38),o=n(40),i=n(39),c=n(1),u=n(0),l=n.n(u),f=n(19),g=n(7),p=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(o.a)(u,t);var n=Object(i.a)(u);function u(){return Object(s.a)(this,u),n.apply(this,arguments)}return Object(a.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(c.jsx)(e,Object(r.a)({},this.props)):Object(c.jsx)(g.a,{to:"/login"})}}]),u}(l.a.Component);return Object(f.b)(p)(t)}},238:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(66);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,s=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){s=!0,a=c}finally{try{r||null==i.return||i.return()}finally{if(s)throw a}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},256:function(e,t,n){e.exports={users:"Users_users__pi2dK",title:"Users_title__1oc51",user:"Users_user__2GgVm",body:"Users_body__UFmw-",main:"Users_main__1ahMK",text:"Users_text__ZE5J3",avatar:"Users_avatar__2J-YJ",name:"Users_name__37iyV",status:"Users_status__tbtzV",btn:"Users_btn__LMnfg"}},310:function(e,t,n){e.exports={pagination:"Paginator_pagination__358Lc",page:"Paginator_page__1Odef",selectedPage:"Paginator_selectedPage__1eaKy"}},317:function(e,t,n){"use strict";n.r(t);var r=n(37),s=n(38),a=n(40),o=n(39),i=n(1),c=n(0),u=n.n(c),l=n(19),f=n(88),g=n(231),p=n(256),b=n.n(p),j=n(29),d=n(238),h=n(310),m=n.n(h),O=n(11),P=function(e){for(var t=e.currentPage,n=e.pageSize,r=e.totalItemsCount,s=e.portionSize,a=void 0===s?10:s,o=e.onPageChanged,c=Math.ceil(r/n),l=[],f=1;f<=c;f++)l.push(f);var g=Math.ceil(c/a),p=u.a.useState(1),b=Object(d.a)(p,2),j=b[0],h=b[1],P=(j-1)*a+1,_=j*a;return Object(i.jsxs)("div",{className:m.a.pagination,children:[j>1&&Object(i.jsx)("button",{className:m.a.page,onClick:function(){h(j-1)},children:"PREV"}),l.filter((function(e){return e>=P&&e<=_})).map((function(e){return Object(i.jsx)(O.b,{to:"/users/".concat(e),onClick:function(){o(e)},className:"".concat(m.a.page," ").concat(t===e&&m.a.selectedPage),children:e},e)})),g>j&&Object(i.jsx)("button",{className:m.a.page,onClick:function(){h(j+1)},children:"NEXT"})]})},_=n(65),v=function(e){var t=e.user,n=t.id,r=t.photos,s=t.name,a=t.status,o=t.followed,c=e.followingIsProgress,u=e.unfollow,l=e.follow;return Object(i.jsx)("div",{className:b.a.user,children:Object(i.jsxs)("div",{className:b.a.body,children:[Object(i.jsxs)("div",{className:b.a.main,children:[Object(i.jsx)(O.b,{to:"/profile/".concat(n),className:b.a.avatar,children:Object(i.jsx)("img",{src:null!=r.small?r.small:_.a})}),Object(i.jsxs)("div",{className:b.a.text,children:[Object(i.jsx)("div",{className:b.a.name,children:s}),Object(i.jsx)("div",{className:b.a.status,children:a})]})]}),o?Object(i.jsx)("button",{disabled:c.some((function(e){return e===n})),className:b.a.btn,onClick:function(){u(n)},children:Object(i.jsx)("span",{children:"unfollow"})}):Object(i.jsx)("button",{disabled:c.some((function(e){return e===n})),className:b.a.btn,onClick:function(){l(n)},children:Object(i.jsx)("span",{children:"follow"})})]})})},x=function(e){var t=e.currentPage,n=e.pageSize,r=e.totalUsersCount,s=e.onPageChanged,a=e.users,o=e.isFetching,c=Object(g.a)(e,["currentPage","pageSize","totalUsersCount","onPageChanged","users","isFetching"]);return Object(i.jsxs)("div",{className:b.a.users,children:[Object(i.jsx)("h2",{className:b.a.title,children:"Users"}),Object(i.jsx)(P,{currentPage:t,pageSize:n,onPageChanged:s,totalItemsCount:r}),o?Object(i.jsx)(j.a,{}):Object(i.jsx)("div",{className:b.a.usersCont,children:a.map((function(e){return Object(i.jsx)(v,{user:e,followingIsProgress:c.followingIsProgress,follow:c.follow,unfollow:c.unfollow},e.id)}))})]})},w=n(26),y=n(236),C=function(e){return e.usersPage.users},U=function(e){return e.usersPage.pageSize},N=function(e){return e.usersPage.totalUsersCount},S=function(e){return e.usersPage.currentPage},z=function(e){return e.usersPage.isFetching},I=function(e){return e.usersPage.followingIsProgress},k=n(7),F=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e.render=function(){return Object(i.jsx)(x,{totalUsersCount:e.props.totalUsersCount,pageSize:e.props.pageSize,currentPage:e.props.currentPage,onPageChanged:e.onPageChanged,users:e.props.users,unfollow:e.props.unfollow,follow:e.props.follow,followingIsProgress:e.props.followingIsProgress,isFetching:e.props.isFetching})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.page;void 0===e&&(e=this.props.currentPage),this.props.requestUsers(Number(e),this.props.pageSize)}}]),n}(u.a.Component);t.default=Object(w.d)(Object(l.b)((function(e){return{users:C(e),pageSize:U(e),totalUsersCount:N(e),currentPage:S(e),isFetching:z(e),followingIsProgress:I(e)}}),{follow:f.b,unfollow:f.f,setCurrentPage:f.d,toggleFollowingProgress:f.e,requestUsers:f.c}),k.f,y.a)(F)}}]);
//# sourceMappingURL=7.330cb068.chunk.js.map